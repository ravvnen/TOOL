@startuml C4_Context_Simple
title TOOL System - Context Diagram

skinparam backgroundColor #FEFEFE
skinparam defaultTextAlignment center
skinparam rectangle {
    roundCorner 20
}

actor "User" as user

rectangle "TOOL System\n(Agent.UI + API)" as tool #LightBlue

rectangle "GitHub" as github #LightGray
rectangle "Ollama\n(Local LLM)" as ollama #LightGray
rectangle "NATS\nJetStream" as nats #LightGray

' Relationships
user --> tool : Interacts via\nAgent.UI (:3000)
tool --> ollama : Sends prompts\nwith rules (:11434)

github --> tool : Webhook\nPOST /api/v1/seed
tool --> nats : Publish EVENTS\nConsume DELTAS

note right of user
  **User Actions:**
  • Chat with LLM (rules injected)
  • Search/browse rules
  • Admin CRUD on rules
  • Trigger replay verification
end note

note bottom of tool
  **TOOL System includes:**
  • Agent.UI (React frontend)
  • TOOL API (.NET backend)
  • SQLite + FTS5 storage
  • Replay engine
end note

@enduml
